<!-- Settings Modal - Beautiful tabbed interface for terminal customization -->
<div id="settings-modal" class="settings-modal hidden">
    <div class="settings-overlay"></div>
    <div class="settings-container">
        <!-- Header -->
        <div class="settings-header">
            <h2>‚öôÔ∏è Nebula Terminal Settings</h2>
            <button class="settings-close" onclick="closeSettings()">‚úï</button>
        </div>

        <!-- Tab Navigation -->
        <div class="settings-tabs">
            <button class="settings-tab active" data-tab="appearance">
                üé® Appearance
            </button>
            <button class="settings-tab" data-tab="behavior">
                ‚ö° Behavior
            </button>
            <button class="settings-tab" data-tab="advanced">
                üîß Advanced
            </button>
            <button class="settings-tab" data-tab="about">
                ‚ÑπÔ∏è About
            </button>
        </div>

        <!-- Tab Content -->
        <div class="settings-content">
            <!-- Appearance Tab -->
            <div class="settings-panel active" data-panel="appearance">
                <div class="settings-section">
                    <h3>üé® Theme</h3>
                    <div class="theme-grid" id="theme-grid">
                        <!-- Themes will be dynamically loaded here -->
                    </div>
                </div>

                <div class="settings-section">
                    <h3>üî§ Font</h3>
                    <div class="settings-row">
                        <label>Font Family:</label>
                        <select id="setting-font-family">
                            <option value="FiraCode Nerd Font Mono, monospace">Fira Code</option>
                            <option value="JetBrains Mono, monospace">JetBrains Mono</option>
                            <option value="Cascadia Code, monospace">Cascadia Code</option>
                            <option value="Noto Sans Mono, monospace">Noto Sans Mono</option>
                            <option value="Noto Mono, monospace">Noto Mono</option>
                            <option value="SF Mono, Monaco, monospace">SF Mono</option>
                            <option value="Consolas, monospace">Consolas</option>
                            <option value="Courier New, monospace">Courier New</option>
                        </select>
                    </div>
                    <div class="settings-row">
                        <label>Font Size: <span id="font-size-value">14</span>px</label>
                        <input type="range" id="setting-font-size" min="8" max="32" value="14">
                    </div>
                    <div class="settings-row">
                        <label>
                            <input type="checkbox" id="setting-font-ligatures" checked>
                            Enable Font Ligatures
                        </label>
                    </div>
                </div>

                <div class="settings-section">
                    <h3>üñ±Ô∏è Cursor</h3>
                    <div class="settings-row">
                        <label>Cursor Style:</label>
                        <select id="setting-cursor-style">
                            <option value="block">Block</option>
                            <option value="underline">Underline</option>
                            <option value="bar">Bar</option>
                        </select>
                    </div>
                    <div class="settings-row">
                        <label>
                            <input type="checkbox" id="setting-cursor-blink" checked>
                            Cursor Blink
                        </label>
                    </div>
                </div>

                <div class="settings-section">
                    <h3>üíé Transparency</h3>
                    <div class="settings-row">
                        <label>Window Opacity: <span id="opacity-value">100</span>%</label>
                        <input type="range" id="setting-opacity" min="10" max="100" value="100">
                    </div>
                    <div class="settings-row">
                        <label>Background Blur: <span id="blur-value">0</span>px</label>
                        <input type="range" id="setting-blur" min="0" max="50" value="0">
                    </div>
                    <div class="settings-row">
                        <label>
                            <input type="checkbox" id="setting-acrylic">
                            Enable Acrylic Effect
                        </label>
                    </div>
                </div>

                <div class="settings-section">
                    <h3>üñºÔ∏è Background</h3>
                    <div class="settings-row">
                        <label>Background Type:</label>
                        <select id="setting-background-type">
                            <option value="solid">Solid Color</option>
                            <option value="image">Image</option>
                            <option value="gradient">Gradient</option>
                            <option value="video">Video (Advanced)</option>
                        </select>
                    </div>

                    <!-- Solid Color Background -->
                    <div class="settings-row background-option" data-background-type="solid">
                        <label>Background Color:</label>
                        <input type="color" id="setting-background-color" value="#1a1a1a">
                    </div>

                    <!-- Image Background -->
                    <div class="background-option" data-background-type="image" style="display: none;">
                        <div class="settings-row">
                            <label>Background Image:</label>
                            <button id="browse-background-image" class="button-secondary">Browse...</button>
                            <span id="background-image-name" class="file-name">No image selected</span>
                        </div>
                        <div class="settings-row">
                            <label>Image Opacity: <span id="bg-opacity-value">100</span>%</label>
                            <input type="range" id="setting-background-opacity" min="0" max="100" value="100">
                        </div>
                        <div class="settings-row">
                            <label>Image Fit:</label>
                            <select id="setting-background-fit">
                                <option value="cover">Cover</option>
                                <option value="contain">Contain</option>
                                <option value="fill">Fill</option>
                                <option value="tile">Tile</option>
                            </select>
                        </div>
                        <div class="wallpaper-presets">
                            <p style="font-size: 11px; opacity: 0.7; margin-bottom: 8px;">Quick Presets:</p>
                            <div class="preset-grid" id="wallpaper-preset-grid">
                                <div class="preset-item" data-preset="space">
                                    <div class="preset-preview" style="background: linear-gradient(135deg, #0a0a2e 0%, #16213e 50%, #1a1a2e 100%);">
                                        <span>üåå</span>
                                    </div>
                                    <div class="preset-name">Space</div>
                                </div>
                                <div class="preset-item" data-preset="matrix">
                                    <div class="preset-preview" style="background: linear-gradient(135deg, #001a00 0%, #003300 100%);">
                                        <span>üíª</span>
                                    </div>
                                    <div class="preset-name">Matrix</div>
                                </div>
                                <div class="preset-item" data-preset="cyberpunk">
                                    <div class="preset-preview" style="background: linear-gradient(135deg, #ff00ff 0%, #00ffff 100%);">
                                        <span>üåÉ</span>
                                    </div>
                                    <div class="preset-name">Cyberpunk</div>
                                </div>
                                <div class="preset-item" data-preset="sunset">
                                    <div class="preset-preview" style="background: linear-gradient(135deg, #ff6b6b 0%, #feca57 100%);">
                                        <span>üåÖ</span>
                                    </div>
                                    <div class="preset-name">Sunset</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Gradient Background -->
                    <div class="background-option" data-background-type="gradient" style="display: none;">
                        <div class="settings-row">
                            <label>Gradient Start:</label>
                            <input type="color" id="setting-gradient-start" value="#1a1a1a">
                        </div>
                        <div class="settings-row">
                            <label>Gradient End:</label>
                            <input type="color" id="setting-gradient-end" value="#2d2d2d">
                        </div>
                        <div class="settings-row">
                            <label>Gradient Angle: <span id="gradient-angle-value">135</span>¬∞</label>
                            <input type="range" id="setting-gradient-angle" min="0" max="360" value="135">
                        </div>
                    </div>

                    <!-- Video Background -->
                    <div class="background-option" data-background-type="video" style="display: none;">
                        <div class="settings-row">
                            <label>Video File:</label>
                            <button id="browse-background-video" class="button-secondary">Browse...</button>
                            <span id="background-video-name" class="file-name">No video selected</span>
                        </div>
                        <div class="settings-row">
                            <label>
                                <input type="checkbox" id="setting-video-loop" checked>
                                Loop Video
                            </label>
                        </div>
                        <div class="settings-row">
                            <label>
                                <input type="checkbox" id="setting-video-muted" checked>
                                Mute Audio
                            </label>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Behavior Tab -->
            <div class="settings-panel" data-panel="behavior">
                <div class="settings-section">
                    <h3>üìã Clipboard</h3>
                    <div class="settings-row">
                        <label>
                            <input type="checkbox" id="setting-copy-on-select">
                            Copy on Select
                        </label>
                    </div>
                    <div class="settings-row">
                        <label>
                            <input type="checkbox" id="setting-paste-on-right-click" checked>
                            Paste on Right Click
                        </label>
                    </div>
                </div>

                <div class="settings-section">
                    <h3>üîî Bell</h3>
                    <div class="settings-row">
                        <label>Bell Style:</label>
                        <select id="setting-bell-style">
                            <option value="none">None</option>
                            <option value="visual">Visual</option>
                            <option value="sound" selected>Sound</option>
                        </select>
                    </div>
                </div>

                <div class="settings-section">
                    <h3>üìú Scrollback</h3>
                    <div class="settings-row">
                        <label>Scrollback Lines:</label>
                        <input type="number" id="setting-scrollback" value="10000" min="100" max="100000" step="100">
                    </div>
                </div>

                <div class="settings-section">
                    <h3>üö™ Window</h3>
                    <div class="settings-row">
                        <label>
                            <input type="checkbox" id="setting-confirm-close" checked>
                            Confirm Before Close
                        </label>
                    </div>
                </div>
            </div>

            <!-- Advanced Tab -->
            <div class="settings-panel" data-panel="advanced">
                <div class="settings-section">
                    <h3>üöÄ Performance</h3>
                    <div class="settings-row">
                        <label>
                            <input type="checkbox" id="setting-gpu-acceleration" checked>
                            GPU Acceleration
                        </label>
                    </div>
                    <div class="settings-row">
                        <label>
                            <input type="checkbox" id="setting-webgl">
                            Enable WebGL Renderer
                        </label>
                    </div>
                </div>

                <div class="settings-section">
                    <h3>üîå Features</h3>
                    <div class="settings-row">
                        <label>
                            <input type="checkbox" id="setting-custom-commands" checked>
                            Enable Custom Commands
                        </label>
                    </div>
                    <div class="settings-row">
                        <label>
                            <input type="checkbox" id="setting-inline-rendering" checked>
                            Enable Inline Rendering
                        </label>
                    </div>
                </div>

                <div class="settings-section">
                    <h3>üíæ Configuration</h3>
                    <div class="settings-row">
                        <button class="settings-button" onclick="exportSettings()">
                            üì§ Export Settings
                        </button>
                        <button class="settings-button" onclick="importSettings()">
                            üì• Import Settings
                        </button>
                    </div>
                    <div class="settings-row">
                        <button class="settings-button danger" onclick="resetSettings()">
                            üîÑ Reset to Defaults
                        </button>
                    </div>
                </div>
            </div>

            <!-- About Tab -->
            <div class="settings-panel" data-panel="about">
                <div class="about-content">
                    <div class="about-logo">
                        <div class="ascii-logo">
  _   _      _           _
 | \\ | | ___| |__  _   _| | __ _
 |  \\| |/ _ \\ '_ \\| | | | |/ _` |
 | |\\  |  __/ |_) | |_| | | (_| |
 |_| \\_|\\___|_.__/ \\__,_|_|\\__,_|
                    </div>
                    </div>
                    <h2>Nebula Terminal v3.0</h2>
                    <p class="about-subtitle">The Ultimate Customizable Terminal</p>

                    <div class="about-info">
                        <p><strong>Version:</strong> 3.0.0-alpha</p>
                        <p><strong>Built with:</strong> Electron, node-pty, xterm.js</p>
                        <p><strong>Author:</strong> Ron Murphy</p>
                        <p><strong>License:</strong> MIT</p>
                    </div>

                    <div class="about-features">
                        <h3>‚ú® Features</h3>
                        <ul>
                            <li>üé® 12 Professional Themes</li>
                            <li>‚ö° Real PTY Terminal</li>
                            <li>üíé Transparency & Effects</li>
                            <li>üñºÔ∏è Inline Content Rendering (Coming Soon)</li>
                            <li>üìÅ File Navigation (Coming Soon)</li>
                            <li>üóÇÔ∏è Tabs & Split Panes (Coming Soon)</li>
                        </ul>
                    </div>

                    <div class="about-links">
                        <a href="#" onclick="openExternal('https://github.com/ronmurphy/NebulaDesktop')" class="about-link">
                            üìñ Documentation
                        </a>
                        <a href="#" onclick="openExternal('https://github.com/ronmurphy/NebulaDesktop/issues')" class="about-link">
                            üêõ Report Bug
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="settings-footer">
            <button class="settings-button secondary" onclick="closeSettings()">Cancel</button>
            <button class="settings-button primary" onclick="saveSettings()">Save & Apply</button>
        </div>
    </div>
</div>
